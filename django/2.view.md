# create view & check

장고에서 뷰를 생성하고 웹에서 확인해보기


## 1. url

URL은 Uniform Resource Locator의 약자로, 웹에서 특정 자원의 위치를 나타낸다. urls.py 파일에 자원들의 위치를 명시해야 장고가 해당 자원을 찾아갈 수 있다.

### 앱에 url 추가
```
# vi ./blog/urls.py
# blog 앱에서 접근 가능한 자원들의 위치를 추가시킨다

from django.conf.urls import url
from . import views

urlpatterns = [
        url(r'^$', views.post_list, name='post_list'),
]
```
- url 메소드의 맨 앞에 오는 인자는 정규 표현식으로 표현한 패턴
- 두 번째 오는 인자는 view (미리 생성이 되어있어야 한다)
- 세 번째 오는 인자는 url의 이름으로, view를 식별한다.

## 2. view

view는 말그대로 화면에 데이터를 어떻게 보여주느냐 하는 방식을 기술한 메소드로, 화면에 뿌려줄 데이터를 가공하는 역할을 한다.

### view 선언
```
# vi ./blog/views.py

def post_list(request):
    return render(request, 'blog/post_list.html', {})
```

- 앞선 url 예제에서 `url(r'^$', views.post_list, name='post_list')` 를 통해 url을 선언하고 있다.
- 저대로 실행하면 views.post_list가 존재하지 않는다고 나오므로, 여기에 들어갈 views.post_list를 만든 것이다.
- 그리고 해당 코드에서도 현재 'blog/post_list.html'이 존재하지 않는다. 만들어주자.


### Template 생성
template 실제 화면에 보여질 HTML 파일을 의미하며, Django에서는 'blog/templates/' 경로를 기본 경로로 template을 인식한다.

```
mkdir -p ./blog/templates/blog
vi ./blog/templates/blog/post_list.html
```

- templates 디렉토리 밑에 blog 디렉토리를 하나 더 만드는 이유는 추후 유지보수를 용이하게 하기 위함이다.

### Template에 간단한 문자열 입력 후 웹에서 확인

```html
<!-- vi ./blog/templates/blog/post_list.html --!>

<html>
    <head>
        <title>Django Web</title>
    </head>
    <body>
        <h3>Hello, World</h3>
    </body>
</html>
```

## 3. 정리

화면에 데이터가 보여지는 방식

1. 웹에 특정 url이 입력되면
2. 해당 규칙에 맞는 url에서 views를 불러온다.
3. views에서는 특정 데이터를 가공해서 생성한 html을 불러온다. (view에서 던져준 데이터를 html에서 pythonic하게 조작 가능)
4. html은 templates에 위치해있다.